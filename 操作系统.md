# 引入和介绍

## 通用图灵机

![image-20210430092004933](D:\h后端\imgs\image-20210430092004933.png)





## 计算机如何工作呢？

取指执行

![image-20210430092313547](D:\h后端\imgs\image-20210430092313547.png)



## 计算机启动的故事~

（1）x86PC刚开机时CPU处于实模式

（2）开机时，CS=0xFFFF；IP=0x0000(CS : 代码段寄存器；IP : 指令指针寄存器。物理地址 = 段地址*10H（左移四位） + 偏移地址)

（3）寻址0xFFFF0（ROM BIOS映射区）

（4）检查RAM，键盘，显示器，软硬磁盘

（5）将磁盘（引导扇区）0磁道0扇区（512Byte）读入0x7c00处

（6）设置cs=0x07c0，ip=0x0000

![image-20210430092703218](D:\h后端\imgs\image-20210430092703218.png)

故事从这里开始~

![image-20210430093819650](D:\h后端\imgs\image-20210430093819650.png)

#### 1 引导扇区代码--bootsect.s

![image-20210430095531234](D:\h后端\imgs\image-20210430095531234.png)

![image-20210430104533580](D:\h后端\imgs\image-20210430104533580.png)

![image-20210430104540842](D:\h后端\imgs\image-20210430104540842.png)

![image-20210430105140430](D:\h后端\imgs\image-20210430105140430.png)

![image-20210430105437885](D:\h后端\imgs\image-20210430105437885.png)



#### bootsect.s小结 

（1）在刚刚上电后，操作系统在硬盘上。（由于计算机工作原理是**取指执行**，所以要代码进入内存。）

（2）bootsect.s 将操作系统读入setup   system(13号中断)



#### 2 setup模块--setup.s

 **立**起来（初始化）：建立内存（根据内存硬件大小）

相当于移动操作系统，然后操作系统一直不动，上面可以执行相关应用程序（word、balabala）

![image-20210430113017182](D:\h后端\imgs\image-20210430113017182.png)













